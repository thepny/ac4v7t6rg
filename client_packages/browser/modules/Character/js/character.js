var data = {
    "father":["Бенджамин", "Даниэль", "Джошуа", "Ной", "Андрей", "Хуан", "Алекс", "Исаак", "Эван", "Итан", "Винсент", "Ангел", "Диего", "Адриан", "Габриэль", "Майкл", "Сантьяго", "Кевин", "Луи", "Сэмюэль", "Энтони", "Клод", "Нико", "Джон"],
    "mother":["Ханна", "Обри", "Жасмин", "Жизель", "Амелия", "Изабелла", "Зои", "Ава", "Камила", "Вайолет", "София", "Эвелин", "Николь", "Эшли", "Грейси", "Брианна", "Натали", "Оливия", "Элизабет", "Шарлотта", "Эмма","Мисти"],
    "eyebrowsM":["Нет", "Уравновешенный", "Модный", "Клеопатра", "Загадочный", "Женственный", "Соблазнительный", "Зажатый", "Чола", "Триумф", "Беззаботный", "Пышный", "Грызун", "Двойной трамвай", "Тонкий", "Карандашный", "Мать-щипач", "Прямой и узкий", "Естественный", "Пушистый", "Неопрятный", "Гусеница", "Обычный", "Средиземноморский", "Ухоженный", "Бушели", " Пернатый", "Колючий", "Однобровый", "Крылатый", "Тройной трамвай", "Арочный трамвай", "Вырезы", "Исчезающий", "Сольный трамвай"],
    "eyebrowsF":["Нет", "Сбалансированный", "Модный", "Клеопатра", "Загадочный", "Женщина", "Соблазнительный", "Зажатый", "Чола", "Триумф", "Беззаботный", "Пышный", "Грызун", "Двойной трамвай", "Тонкий", "Карандашный", "Мать-щипач", "Прямой и узкий", "Естественный", "Пушистый", "Неопрятный", "Гусеница", "Обычный", "Средиземноморский", "Ухоженный", "Бушели ", "Пернатый", "Колючий", "Однобровый", "Крылатый", "Тройной трамвай", "Арочный трамвай", "Вырезы", "Исчезающий", "Сольный трамвай"],
    "beard":["Нет", "Легкая щетина", "Бальбо", "Круглая борода", "Козлиная бородка", "Подбородок", "Пушок на подбородке", "Ремешок для подбородка", "Неряшливый", "Мушкетер", "Усы", "Подстриженная борода", "Щетина", "Тонкая круглая борода", "Подкова", "Карандаш и Отбивные", "Борода для подбородка", "Бальбо и Бакенбарды", "Бараньи отбивные", "Неряшливая борода", "Кудрявый", "Кудрявый и Глубокий незнакомец", "Руль", "Фаустик", "Отто и Патч", "Отто и полный незнакомец", "Светлый Франц", "Хэмпстед", "Амброуз", "Занавес Линкольна"],
    "hairM":["Нет", "Стрижка", "Искусственный Ястреб", "Хипстер", "Боковой Пробор", "Укороченный", "Байкер", "Конский хвост", "Косички", "Прилизанный", "Короткая Стрижка", "Колючий", "Цезарь", "Рубленый", "Дреды", "Длинные Волосы", "Лохматые Кудри", "Серфер", "Короткая Боковая часть", "Высокие гладкие бока", "Длинные гладкие", "Хипстерская молодежь", "Кефаль" , "Классические Косички", "Пальмовые Косички", "Молниеносные Косички", "Взбитые Косички", "Зигзагообразные Косички", "Косички Улитки", "Высокий верх", "Свободный Зачес Назад", "Подрезанный Зачес Назад", "Подрезанная Зачесанная Сторона", "Ирокез С шипами", "Мод", "Слоистый Мод", "Плоский Верх", "Свернутая Челка"],
    "hairF":["Нет", "Короткий", "Слоистый Боб", "Косички", "Конский Хвост", "Заплетенный Ирокез", "Косы", "Боб", "Искусственный Ястреб", "Французский Твист", "Длинный Боб", "Свободно завязанный", "Пикси", "Бритая Челка", "Верхний Узел", "Волнистый Боб", "Грязный Пучок", "Приколотая Девушка", "Тугой Пучок", "Скрученный Боб", "Хлопушка Боб", "Большая Челка", "Плетеный Верхний Узел", " Кефаль", "Защемленные Косички", "Косички С листьями", "Зигзагообразные Косички", "Челка С косичками", "Волнистые косы", "Спиральные Косички", "Свернутая челка", "Свободная Зачесанная назад", "Подрезанная Зачесанная назад", "Подрезанная Зачесанная сторона", "Ирокез с шипами", "Бандана и коса", "Многослойный Мод"],
    "hairColor":["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20"],
    "eyeColor":["Зеленый", "Изумрудный", "Голубой", "Синий", "Коричневый", "Черные", "Карий", "Темно-серые", "Светло-серые", "Розовые", "Желтые", "Фиолетовые"],
	"ClothesTop":["Вариант #1", "Вариант #2", "Вариант #3"],
	"ClothesPants":["Вариант #1", "Вариант #2", "Вариант #3"],
	"ClothesShoes":["Вариант #1", "Вариант #2", "Вариант #3"],
};
Vue.component('list',{
    template: '<div v-bind:id="id" class="list">\
    <div @click="left" class="left">◂</div>\
    <div class="listval">{{ values[index] }}</div>\
    <div @click="right" class="right">▸</v></div></div>',
    props: ['id','num'],
    data: function(){
        return {
            index: 0,
            values: this.num ? [-1,-0.1,-0.2,-0.3,-0.4,-0.5,-0.6,-0.7,-0.8,-0.9,0,0.1,0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,1] : data[this.id],
        }
    },
    methods: {
        left: function(event){
            this.index--
            if(this.index < 0) this.index=0
            this.send()
        },
        right: function(event){
            this.index++
            if(this.index == this.values.length) this.index=0
            this.send()
        },
        send: function(){
            var value = this.num ? this.values[this.index] : this.index
            //console.log('editorList:'+this.id+':'+value)
            mp.trigger('editorList', this.id, Number(value))
        }
    }
})
var editor = new Vue({
    el: "#app",
    data: {
        active: true,
        gender: true,
        isSurgery: false,
		pages: 0,
		age: null,
    },
    methods: {
        genderSw: function(type){
            if(type){
                this.gender=true
                mp.trigger('characterGender',"Male")
            } else {
                this.gender=false
                mp.trigger('characterGender',"Female")
            }
        },
		gopage: function(id) {
			// this.pages = id;
			this.pages = 1;
			$(document).on('input', 'input[type="range"]', function(e) {
				let id = e.target.id;
				let val = e.target.value;
				$('output#'+id).html(val);
				mp.trigger('editorList', id, Number(val));
			});
			$('input[type=range]').rangeslider({
			  polyfill: false,
			});
			setTimeout(() => {
				this.pages = 1;
				this.pages = id;
				 $(document).on('input', 'input[type="range"]', function(e) {
					let id = e.target.id;
					let val = e.target.value;
					$('output#'+id).html(val);
					mp.trigger('editorList', id, Number(val));
				});
				$('input[type=range]').rangeslider({
				  polyfill: false,
				});
				setTimeout(() => {
				// this.pages = 1;
				this.pages = id;
				 $(document).on('input', 'input[type="range"]', function(e) {
					let id = e.target.id;
					let val = e.target.value;
					$('output#'+id).html(val);
					mp.trigger('editorList', id, Number(val));
				});
				$('input[type=range]').rangeslider({
				  polyfill: false,
				});
			}, 1);
			}, 1);
		},
		dancing: function() {
			mp.trigger("client::characterpeddancing");
		},
		random: function() {
			function getRandomItem(arr) {
				const randomIndex = Math.floor(Math.random() * arr.length);
				const item = arr[randomIndex];
				return item;
			}
			const resultF = getRandomItem(data.father);
			const result = '"' + resultF + '"'
            function rand() {
                return (Math.random() * (1 - -1) + -1).toFixed(1);
            } 
			function randomInteger(min, max) {
			  let rand = min + Math.random() * (max - min);
			  return Math.round(rand);
			}
			try {
                if (this.gender == true) {
					mp.trigger('editorList', 'eyeScale', Number(rand()));
					mp.trigger('editorList', 'noseHeight',Number(rand()));
					mp.trigger('editorList', 'noseWidth', Number(rand()));
					mp.trigger('editorList', 'noseDepth', Number(rand()));
					mp.trigger('editorList', 'noseDepth', Number(rand()));
					mp.trigger('editorList', 'noseBroke', Number(rand()));
					mp.trigger('editorList', 'noseBroke', Number(rand()));
					mp.trigger('editorList', 'noseTipLength', Number(rand()));
					mp.trigger('editorList', 'noseTipLength', Number(rand()));
					mp.trigger('editorList', 'noseTipHeight', Number(rand()));
					mp.trigger('editorList', 'cheekboneHeight', Number(rand()));
					mp.trigger('editorList', 'cheekboneWidth', Number(rand()));
					mp.trigger('editorList', 'cheekDepth', Number(rand()));
					mp.trigger('editorList', 'lipThickness', Number(rand()));
					mp.trigger('editorList', 'jawWidth', Number(rand()));
					mp.trigger('editorList', 'jawShape', Number(rand()));
					mp.trigger('editorList', 'chinHeight', Number(rand()));
					mp.trigger('editorList', 'chinWidth', Number(rand()));
					mp.trigger('editorList', 'chinDepth', Number(rand()));
					mp.trigger('editorList', 'chinIndent', Number(rand()));
					mp.trigger('editorList', 'father', randomInteger(0, 22));
					mp.trigger('editorList', 'mother', randomInteger(0, 20));
					mp.trigger('editorList', 'hairColor', randomInteger(0, 22));
					mp.trigger('editorList', 'eyeColor', randomInteger(0, 11));
					mp.trigger('editorList', 'hairM', randomInteger(0, 37));
					mp.trigger('editorList', 'beard', randomInteger(0, 29));
					mp.trigger('editorList', 'eyebrowsM', randomInteger(0, 34));
					mp.trigger('editorList', 'ClothesTop', randomInteger(0, 3));
					mp.trigger('editorList', 'ClothesPants', randomInteger(0, 3));
					mp.trigger('editorList', 'ClothesShoes', randomInteger(0, 3));
				}
				if (this.gender == false) {
					mp.trigger('editorList', 'eyeScale', Number(rand()));
					mp.trigger('editorList', 'noseHeight',Number(rand()));
					mp.trigger('editorList', 'noseWidth', Number(rand()));
					mp.trigger('editorList', 'noseDepth', Number(rand()));
					mp.trigger('editorList', 'noseDepth', Number(rand()));
					mp.trigger('editorList', 'noseBroke', Number(rand()));
					mp.trigger('editorList', 'noseBroke', Number(rand()));
					mp.trigger('editorList', 'noseTipLength', Number(rand()));
					mp.trigger('editorList', 'noseTipLength', Number(rand()));
					mp.trigger('editorList', 'noseTipHeight', Number(rand()));
					mp.trigger('editorList', 'cheekboneHeight', Number(rand()));
					mp.trigger('editorList', 'cheekboneWidth', Number(rand()));
					mp.trigger('editorList', 'cheekDepth', Number(rand()));
					mp.trigger('editorList', 'lipThickness', Number(rand()));
					mp.trigger('editorList', 'jawWidth', Number(rand()));
					mp.trigger('editorList', 'jawShape', Number(rand()));
					mp.trigger('editorList', 'chinHeight', Number(rand()));
					mp.trigger('editorList', 'chinWidth', Number(rand()));
					mp.trigger('editorList', 'chinDepth', Number(rand()));
					mp.trigger('editorList', 'chinIndent', Number(rand()));
					mp.trigger('editorList', 'father', randomInteger(0, 22));
					mp.trigger('editorList', 'mother', randomInteger(0, 20));
					mp.trigger('editorList', 'hairColor', randomInteger(0, 22));
					mp.trigger('editorList', 'eyeColor', randomInteger(0, 11));
					mp.trigger('editorList', 'eyebrowsF', randomInteger(0, 34));
					mp.trigger('editorList', 'hairF', randomInteger(0, 36));
					mp.trigger('editorList', 'ClothesTop', randomInteger(0, 3));
					mp.trigger('editorList', 'ClothesPants', randomInteger(0, 3));
					mp.trigger('editorList', 'ClothesShoes', randomInteger(0, 3));
				}
            } catch (e) {
                console.log(e);
            }
		},
        save: function(){
            //console.log('characterSave')
            mp.trigger('characterSave', this.age)
        }
    }
});
$(function() {
    $(document).on('input', 'input[type="range"]', function(e) {
        let id = e.target.id;
        let val = e.target.value;
        $('output#'+id).html(val);
        mp.trigger('editorList', id, Number(val));
    });
    
    $('input[type=range]').rangeslider({
      polyfill: false,
    });
});